import{g as x,h as E,T as S,i as b,j as T,_ as C,u as F,c,d as p,a,t as m,b as i,k as w,v as y,F as V,o as d,L as k}from"./C5GJ1Ld6.js";import{u as B,H as D,F as M}from"./BuTreLOu.js";import{u as L}from"./C6fTdQpC.js";function P(u={}){const{preReadyCallback:t,postReadyCallback:_,redirectToLoginPage:s=!0}=u,o=L(),h=T(),l=b(!1);x(()=>{r()}),E(()=>o.isAuthenticated,()=>{(s&&!o.isAuthenticated||!s&&o.isAuthenticated)&&e()});async function r(){return s&&!o.isAuthenticated||!s&&o.isAuthenticated?(await e(),!0):(typeof t=="function"&&await t(),l.value=!0,typeof _=="function"&&await _(),!0)}async function e(){return await h.replace(S.i18nRoute({name:s?"login":"home"})),!0}return{isReady:l,doRedirect:e}}function A(u){const t=u;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"",resource:{en:{seo:{title:{t:0,b:{t:2,i:[{t:3}],s:"Authentication"}}},title:{t:0,b:{t:2,i:[{t:3}],s:"Authentication"}},email_label:{t:0,b:{t:2,i:[{t:3}],s:"E-mail"}},email_placeholder:{t:0,b:{t:2,i:[{t:3}],s:"Enter e-mail"}},password_label:{t:0,b:{t:2,i:[{t:3}],s:"Password"}},password_placeholder:{t:0,b:{t:2,i:[{t:3}],s:"Enter password"}},submit:{t:0,b:{t:2,i:[{t:3}],s:"Login"}}},uk:{seo:{title:{t:0,b:{t:2,i:[{t:3}],s:"Аутентифікація"}}},title:{t:0,b:{t:2,i:[{t:3}],s:"Аутентифікація"}},email_label:{t:0,b:{t:2,i:[{t:3}],s:"E-mail"}},email_placeholder:{t:0,b:{t:2,i:[{t:3}],s:"Введіть e-mail"}},password_label:{t:0,b:{t:2,i:[{t:3}],s:"Пароль"}},password_placeholder:{t:0,b:{t:2,i:[{t:3}],s:"Введіть пароль"}},submit:{t:0,b:{t:2,i:[{t:3}],s:"Увійти"}}}}})}const H={class:"page-content"},I={class:"container"},N={class:"login"},U={class:"login__title"},j=["disabled"],O=["placeholder"],q={class:"mt-2"},z=["placeholder"],G={key:0,class:"login__loader mt-2"},J=["disabled"],K={key:1,class:"box login__loader"},R={__name:"Login",setup(u){const{t,te:_}=F(),{doRedirect:s,isReady:o}=P({redirectToLoginPage:!1}),h=L();B({t,te:_});const l=b(""),r=b(""),e=b(!1);async function g(v){if(v.preventDefault(),e.value)return!1;e.value=!0;const n=await h.login({email:l.value,password:r.value});if(e.value=!1,!n)return!1;s()}return(v,n)=>(d(),c(V,null,[p(D),a("main",H,[a("div",I,[a("div",N,[a("h1",U,m(i(t)("title")),1),i(o)?(d(),c("form",{key:0,class:"box login__form",disabled:e.value,onSubmit:g},[a("label",null,m(i(t)("email_label")),1),w(a("input",{"onUpdate:modelValue":n[0]||(n[0]=f=>l.value=f),type:"email",minlength:"8",placeholder:i(t)("email_placeholder")},null,8,O),[[y,l.value]]),a("label",q,m(i(t)("password_label")),1),w(a("input",{"onUpdate:modelValue":n[1]||(n[1]=f=>r.value=f),type:"password",minlength:"8",placeholder:i(t)("password_placeholder")},null,8,z),[[y,r.value]]),e.value?(d(),c("div",G,[p(k)])):(d(),c("button",{key:1,type:"submit",class:"btn btn_primary mt-2",disabled:e.value,onClick:g},m(i(t)("submit")),9,J))],40,j)):(d(),c("div",K,[p(k)]))])])]),p(M)],64))}};typeof A=="function"&&A(R);const Y=C(R,[["__scopeId","data-v-53ca9141"]]);export{Y as default};
