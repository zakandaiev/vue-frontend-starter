import{g as E,h as S,i as w,j as b,k as F,T,_ as C,u as V,c,d as p,a,t as m,b as i,l as y,v as k,L as A,F as B,o as d}from"./_Ljrx-J_.js";import{u as D,H as M,F as P}from"./Dx9Rn_rG.js";import{u as R}from"./D5jvaX0X.js";function H(u={}){const{preReadyCallback:t,postReadyCallback:_,redirectToLoginPage:s=!0}=u,o=R(),h=F(),l=b(!1);E(()=>{r()}),S(()=>o.isAuthenticated,()=>{(s&&!o.isAuthenticated||!s&&o.isAuthenticated)&&e()});async function r(){return s&&!o.isAuthenticated||!s&&o.isAuthenticated?(await e(),!0):(w(t)&&await t(),l.value=!0,w(_)&&await _(),!0)}async function e(){return await h.replace(T.i18nRoute({name:s?"login":"home"})),!0}return{isReady:l,doRedirect:e}}function L(u){const t=u;t.__i18n=t.__i18n||[],t.__i18n.push({locale:"",resource:{en:{seo:{title:{t:0,b:{t:2,i:[{t:3}],s:"Authentication"}}},title:{t:0,b:{t:2,i:[{t:3}],s:"Authentication"}},email_label:{t:0,b:{t:2,i:[{t:3}],s:"E-mail"}},email_placeholder:{t:0,b:{t:2,i:[{t:3}],s:"Enter e-mail"}},password_label:{t:0,b:{t:2,i:[{t:3}],s:"Password"}},password_placeholder:{t:0,b:{t:2,i:[{t:3}],s:"Enter password"}},submit:{t:0,b:{t:2,i:[{t:3}],s:"Login"}}},uk:{seo:{title:{t:0,b:{t:2,i:[{t:3}],s:"Аутентифікація"}}},title:{t:0,b:{t:2,i:[{t:3}],s:"Аутентифікація"}},email_label:{t:0,b:{t:2,i:[{t:3}],s:"E-mail"}},email_placeholder:{t:0,b:{t:2,i:[{t:3}],s:"Введіть e-mail"}},password_label:{t:0,b:{t:2,i:[{t:3}],s:"Пароль"}},password_placeholder:{t:0,b:{t:2,i:[{t:3}],s:"Введіть пароль"}},submit:{t:0,b:{t:2,i:[{t:3}],s:"Увійти"}}}}})}const I={class:"page-content"},N={class:"container"},U={class:"login"},j={class:"login__title"},O=["disabled"],q=["placeholder"],z={class:"mt-2"},G=["placeholder"],J={key:0,class:"login__loader mt-2"},K=["disabled"],Q={key:1,class:"box login__loader"},x={__name:"Login",setup(u){const{t,te:_}=V(),{doRedirect:s,isReady:o}=H({redirectToLoginPage:!1}),h=R();D({t,te:_});const l=b(""),r=b(""),e=b(!1);async function g(v){if(v.preventDefault(),e.value)return!1;e.value=!0;const n=await h.login({email:l.value,password:r.value});if(e.value=!1,!n)return!1;s()}return(v,n)=>(d(),c(B,null,[p(M),a("main",I,[a("div",N,[a("div",U,[a("h1",j,m(i(t)("title")),1),i(o)?(d(),c("form",{key:0,class:"box login__form",disabled:e.value,onSubmit:g},[a("label",null,m(i(t)("email_label")),1),y(a("input",{"onUpdate:modelValue":n[0]||(n[0]=f=>l.value=f),type:"email",minlength:"8",placeholder:i(t)("email_placeholder")},null,8,q),[[k,l.value]]),a("label",z,m(i(t)("password_label")),1),y(a("input",{"onUpdate:modelValue":n[1]||(n[1]=f=>r.value=f),type:"password",minlength:"8",placeholder:i(t)("password_placeholder")},null,8,G),[[k,r.value]]),e.value?(d(),c("div",J,[p(A)])):(d(),c("button",{key:1,type:"submit",class:"btn btn_primary mt-2",disabled:e.value,onClick:g},m(i(t)("submit")),9,K))],40,O)):(d(),c("div",Q,[p(A)]))])])]),p(P)],64))}};typeof L=="function"&&L(x);const Z=C(x,[["__scopeId","data-v-53ca9141"]]);export{Z as default};
